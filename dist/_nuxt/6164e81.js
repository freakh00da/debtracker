(window.webpackJsonp=window.webpackJsonp||[]).push([[22,4,10,11],{312:function(e,t,r){"use strict";r.r(t);var n={props:{message:String},methods:{closeNotification:function(){this.$emit("close")}}},o=r(26),component=Object(o.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"bg-green-500 text-white p-4 rounded shadow-lg"},[t("div",{staticClass:"flex items-center justify-between"},[t("div",{staticClass:"flex items-center"},[t("svg",{staticClass:"w-6 h-6 mr-2",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})]),e._v(" "),t("span",{staticClass:"font-semibold"},[e._v("Sukses!")])]),e._v(" "),t("button",{staticClass:"text-white hover:text-gray-200 focus:outline-none",on:{click:e.closeNotification}},[t("svg",{staticClass:"w-4 h-4 fill-current",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}})])])]),e._v(" "),t("p",{staticClass:"mt-2"},[e._v(e._s(e.message))])])}),[],!1,null,null,null);t.default=component.exports},313:function(e,t,r){"use strict";r.r(t);var n={props:{message:String},methods:{closeNotification:function(){this.$emit("close")}}},o=r(26),component=Object(o.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"bg-red-500 text-white p-4 rounded shadow-lg"},[t("div",{staticClass:"flex items-center justify-between"},[t("div",{staticClass:"flex items-center"},[t("svg",{staticClass:"w-6 h-6 mr-2",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})]),e._v(" "),t("span",{staticClass:"font-semibold"},[e._v("Gagal!")])]),e._v(" "),t("button",{staticClass:"text-white hover:text-gray-200 focus:outline-none",on:{click:e.closeNotification}},[t("svg",{staticClass:"w-4 h-4 fill-current",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}})])])]),e._v(" "),t("p",{staticClass:"mt-2"},[e._v(e._s(e.message))])])}),[],!1,null,null,null);t.default=component.exports},315:function(e,t,r){"use strict";r.r(t);var n={data:function(){return{currentYear:(new Date).getFullYear()}}},o=r(26),component=Object(o.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-center text-gray-500 text-sm my-4"},[e._v("\n  Â© "+e._s(e.currentYear)+"\n  "),t("a",{staticClass:"text-blue-500 hover:underline",attrs:{href:"https://github.com/freakh00da",target:"_blank",rel:"noopener noreferrer"}},[e._v("freakh00da")])])}),[],!1,null,"0b7ddd07",null);t.default=component.exports},376:function(e,t,r){"use strict";r.r(t);r(38);var n=r(8),o=(r(27),r(312)),l=r(313),c=r(315),d=r(89),m={middleware:"checkSession",layout:"navbar",components:{NotificationSuccess:o.default,NotificationFailed:l.default,Copyright:c.default},methods:{getUser:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3ZGt1cGN3aWdtaHZuaHZ2bmxnIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NDY4NTUwOCwiZXhwIjoyMDEwMjYxNTA4fQ.e7H4hKzuXT_STOyk0Rd4urDJsgN7bdtZlsjW46GsRKQ",n=localStorage.getItem("id"),t.next=5,e.$axios.get("/v1/users?select=*&&id=eq.".concat(n),{headers:{apikey:r,Authorization:"Bearer ".concat(r)}});case 5:200===(o=t.sent).status?(e.userNow.name=o.data[0].username,e.userNow.email=o.data[0].email):console.error("error",o.error),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("error",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},editProfile:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3ZGt1cGN3aWdtaHZuaHZ2bmxnIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NDY4NTUwOCwiZXhwIjoyMDEwMjYxNTA4fQ.e7H4hKzuXT_STOyk0Rd4urDJsgN7bdtZlsjW46GsRKQ",n=localStorage.getItem("id"),t.next=5,e.$axios.patch("/v1/users?id=eq.".concat(n),{username:e.editedUser.name,email:e.editedUser.email},{headers:{apikey:r,Authorization:"Bearer ".concat(r),"Content-Type":"application/json",Prefer:"return=minimal"}});case 5:return o=t.sent,t.next=8,d.a.auth.updateUser({email:e.editedUser.email});case 8:if(l=t.sent,l.data,204!==o.status){t.next=16;break}return t.next=13,e.getUser();case 13:e.showSuccess("Profil berhasil diubah."),t.next=18;break;case 16:e.showFailed("Gagal mengubah profil."),console.error("error",o.error);case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(0),e.showFailed("Gagal mengubah profil."),console.error("error",t.t0);case 24:case"end":return t.stop()}}),t,null,[[0,20]])})))()},showSuccess:function(e){this.successMessage=e,this.showSuccessNotification=!0},showFailed:function(e){this.failedMessage=e,this.showFailedNotification=!0}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getUser();case 2:case"end":return t.stop()}}),t)})))()},data:function(){return{userNow:{name:"",email:""},editedUser:{name:"",email:""},showSuccessNotification:!1,successMessage:"",showFailedNotification:!1,failedMessage:""}}},f=r(26),component=Object(f.a)(m,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"container mx-auto py-8"},[t("div",{staticClass:"bg-white p-8 rounded-lg shadow-md"},[t("h1",{staticClass:"text-2xl font-semibold mb-4"},[e._v("Profil Pengguna")]),e._v(" "),t("div",{staticClass:"grid grid-cols-1 md:grid-cols-2 gap-4"},[t("div",[t("h2",{staticClass:"text-lg font-semibold"},[e._v("Informasi Umum")]),e._v(" "),t("p",[e._v("Nama: "+e._s(e.userNow.name))]),e._v(" "),t("p",[e._v("Email: "+e._s(e.userNow.email))])]),e._v(" "),t("div",[t("h2",{staticClass:"text-lg font-semibold"},[e._v("Edit Profil")]),e._v(" "),t("form",{on:{submit:function(t){return t.preventDefault(),e.editProfile.apply(null,arguments)}}},[t("div",{staticClass:"mb-4"},[t("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"name"}},[e._v("Nama:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.editedUser.name,expression:"editedUser.name"}],staticClass:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring focus:border-blue-300",attrs:{type:"text",id:"name",name:"name",required:""},domProps:{value:e.editedUser.name},on:{input:function(t){t.target.composing||e.$set(e.editedUser,"name",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"mb-6"},[t("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"email"}},[e._v("Email:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.editedUser.email,expression:"editedUser.email"}],staticClass:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring focus:border-blue-300",attrs:{type:"email",id:"email",name:"email",required:""},domProps:{value:e.editedUser.email},on:{input:function(t){t.target.composing||e.$set(e.editedUser,"email",t.target.value)}}})]),e._v(" "),t("button",{staticClass:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg",attrs:{type:"submit"}},[e._v("\n              Simpan Perubahan\n            ")])])])])])]),e._v(" "),t("Copyright"),e._v(" "),e.showSuccessNotification?t("NotificationSuccess",{attrs:{message:e.successMessage},on:{close:function(t){e.showSuccessNotification=!1}}}):e._e(),e._v(" "),e.showFailedNotification?t("NotificationFailed",{attrs:{message:e.failedMessage},on:{close:function(t){e.showFailedNotification=!1}}}):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Copyright:r(315).default,NotificationSuccess:r(312).default,NotificationFailed:r(313).default})}}]);