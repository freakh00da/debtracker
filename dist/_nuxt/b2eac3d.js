(window.webpackJsonp=window.webpackJsonp||[]).push([[23,10,11],{312:function(e,t,n){"use strict";n.r(t);var o={props:{message:String},methods:{closeNotification:function(){this.$emit("close")}}},r=n(26),component=Object(r.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"bg-green-500 text-white p-4 rounded shadow-lg"},[t("div",{staticClass:"flex items-center justify-between"},[t("div",{staticClass:"flex items-center"},[t("svg",{staticClass:"w-6 h-6 mr-2",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})]),e._v(" "),t("span",{staticClass:"font-semibold"},[e._v("Sukses!")])]),e._v(" "),t("button",{staticClass:"text-white hover:text-gray-200 focus:outline-none",on:{click:e.closeNotification}},[t("svg",{staticClass:"w-4 h-4 fill-current",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}})])])]),e._v(" "),t("p",{staticClass:"mt-2"},[e._v(e._s(e.message))])])}),[],!1,null,null,null);t.default=component.exports},313:function(e,t,n){"use strict";n.r(t);var o={props:{message:String},methods:{closeNotification:function(){this.$emit("close")}}},r=n(26),component=Object(r.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"bg-red-500 text-white p-4 rounded shadow-lg"},[t("div",{staticClass:"flex items-center justify-between"},[t("div",{staticClass:"flex items-center"},[t("svg",{staticClass:"w-6 h-6 mr-2",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})]),e._v(" "),t("span",{staticClass:"font-semibold"},[e._v("Gagal!")])]),e._v(" "),t("button",{staticClass:"text-white hover:text-gray-200 focus:outline-none",on:{click:e.closeNotification}},[t("svg",{staticClass:"w-4 h-4 fill-current",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}})])])]),e._v(" "),t("p",{staticClass:"mt-2"},[e._v(e._s(e.message))])])}),[],!1,null,null,null);t.default=component.exports},349:function(e,t,n){var content=n(370);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(115).default)("9ee4dc12",content,!0,{sourceMap:!1})},369:function(e,t,n){"use strict";n(349)},370:function(e,t,n){var o=n(114)((function(i){return i[1]}));o.push([e.i,".logo[data-v-8aa8312a]{height:auto;max-width:150px}",""]),o.locals={},e.exports=o},377:function(e,t,n){"use strict";n.r(t);var o=[function(){var e=this._self._c;return e("div",{staticClass:"flex justify-center mb-6"},[e("img",{staticClass:"logo",attrs:{src:n(212),alt:"Debtracker Logo"}})])},function(){var e=this._self._c;return e("div",{staticClass:"mb-6"},[e("button",{staticClass:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg",attrs:{type:"submit"}},[this._v("\n          Daftar\n        ")])])}],r=n(8),l=(n(27),n(88),n(89)),c=n(312),d=n(313),m={data:function(){return{apiKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3ZGt1cGN3aWdtaHZuaHZ2bmxnIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NDY4NTUwOCwiZXhwIjoyMDEwMjYxNTA4fQ.e7H4hKzuXT_STOyk0Rd4urDJsgN7bdtZlsjW46GsRKQ",username:"",email:"",password:"",showSuccessNotification:!1,successMessage:"",showFailedNotification:!1,failedMessage:""}},middleware:"loggedIn",components:{NotificationSuccess:c.default,NotificationFailed:d.default},methods:{signup:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,data,o,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.auth.signUp({email:e.email,password:e.password});case 3:if(n=t.sent,data=n.data,!(o=n.error)){t.next=10;break}e.showFailed("Pendaftaran gagal: "+o.message),t.next=15;break;case 10:return r=data.user.id,t.next=13,e.addDatabase(r);case 13:e.showSuccess("Pendaftaran berhasil. Anda akan dialihkan ke halaman login dalam beberapa detik."),setTimeout((function(){e.$router.push("/login")}),3e3);case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.error("error",t.t0.message);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))()},addDatabase:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=t.apiKey,n.next=4,t.$axios.post("/v1/users",{username:t.username,email:t.email,id:e},{headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Prefer:"return=minimal"}});case 4:201===(r=n.sent).status?console.log("sucess",r.data):console.error("error",r.data),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.error("error",n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},showSuccess:function(e){this.successMessage=e,this.showSuccessNotification=!0},showFailed:function(e){this.failedMessage=e,this.showFailedNotification=!0}}},f=(n(369),n(26)),component=Object(f.a)(m,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"min-h-screen flex items-center justify-center bg-gray-100"},[t("div",{staticClass:"max-w-md w-full p-6 bg-white rounded-lg shadow-lg"},[e._m(0),e._v(" "),t("form",{on:{submit:function(t){return t.preventDefault(),e.signup.apply(null,arguments)}}},[t("div",{staticClass:"mb-4"},[t("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"name"}},[e._v("Nama:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring focus:border-blue-300",attrs:{type:"text",id:"name",name:"name",placeholder:"Masukkan username Anda",required:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"mb-4"},[t("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"email"}},[e._v("Email:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring focus:border-blue-300",attrs:{type:"email",id:"email",name:"email",placeholder:"Masukkan email Anda",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"mb-4"},[t("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"password"}},[e._v("Password:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring focus:border-blue-300",attrs:{type:"password",id:"password",name:"password",placeholder:"Masukkan password Anda",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),e._m(1)]),e._v(" "),t("div",{staticClass:"text-center"},[t("p",{staticClass:"text-gray-600 text-sm"},[e._v("\n        Sudah punya akun?\n        "),t("nuxt-link",{staticClass:"text-blue-500 hover:underline",attrs:{to:"/login"}},[e._v("Masuk di sini")])],1)]),e._v(" "),e.showSuccessNotification?t("NotificationSuccess",{attrs:{message:e.successMessage},on:{close:function(t){e.showSuccessNotification=!1}}}):e._e(),e._v(" "),e.showFailedNotification?t("NotificationFailed",{attrs:{message:e.failedMessage},on:{close:function(t){e.showFailedNotification=!1}}}):e._e()],1)])}),o,!1,null,"8aa8312a",null);t.default=component.exports;installComponents(component,{NotificationSuccess:n(312).default,NotificationFailed:n(313).default})}}]);