(window.webpackJsonp=window.webpackJsonp||[]).push([[13,10,11],{312:function(t,e,o){"use strict";o.r(e);var n={props:{message:String},methods:{closeNotification:function(){this.$emit("close")}}},r=o(26),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-green-500 text-white p-4 rounded shadow-lg"},[e("div",{staticClass:"flex items-center justify-between"},[e("div",{staticClass:"flex items-center"},[e("svg",{staticClass:"w-6 h-6 mr-2",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})]),t._v(" "),e("span",{staticClass:"font-semibold"},[t._v("Sukses!")])]),t._v(" "),e("button",{staticClass:"text-white hover:text-gray-200 focus:outline-none",on:{click:t.closeNotification}},[e("svg",{staticClass:"w-4 h-4 fill-current",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}})])])]),t._v(" "),e("p",{staticClass:"mt-2"},[t._v(t._s(t.message))])])}),[],!1,null,null,null);e.default=component.exports},313:function(t,e,o){"use strict";o.r(e);var n={props:{message:String},methods:{closeNotification:function(){this.$emit("close")}}},r=o(26),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-red-500 text-white p-4 rounded shadow-lg"},[e("div",{staticClass:"flex items-center justify-between"},[e("div",{staticClass:"flex items-center"},[e("svg",{staticClass:"w-6 h-6 mr-2",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})]),t._v(" "),e("span",{staticClass:"font-semibold"},[t._v("Gagal!")])]),t._v(" "),e("button",{staticClass:"text-white hover:text-gray-200 focus:outline-none",on:{click:t.closeNotification}},[e("svg",{staticClass:"w-4 h-4 fill-current",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}})])])]),t._v(" "),e("p",{staticClass:"mt-2"},[t._v(t._s(t.message))])])}),[],!1,null,null,null);e.default=component.exports},328:function(t,e,o){"use strict";o.r(e);o(53),o(45),o(15);var n=o(8),r=(o(27),{data:function(){return{form:{type:"debt",amount:null,message:null},showSuccessNotification:!1,successMessage:"",showFailedNotification:!1,failedMessage:""}},methods:{openModal:function(){document.getElementById("my_modal_1").showModal()},closeModal:function(){document.getElementById("my_modal_1").close()},submitForm:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n,r,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=localStorage.getItem("id"),n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3ZGt1cGN3aWdtaHZuaHZ2bmxnIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NDY4NTUwOCwiZXhwIjoyMDEwMjYxNTA4fQ.e7H4hKzuXT_STOyk0Rd4urDJsgN7bdtZlsjW46GsRKQ",e.next=4,t.getSender(o,n);case 4:return r=e.sent,l=t.$route.params.id,e.prev=6,e.next=9,t.$axios.post("/v1/notifications",{email:r.email,message:t.form.message,type:t.form.type,id:l,status:"accepted",name:r.username,friend_id:o,amount:t.form.amount},{headers:{apikey:n,Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Prefer:"return=minimal"}});case 9:201===e.sent.status?(t.closeModal(),t.showSuccess("Notifikasi berhasil dikirim.")):(t.showFailed("Gagal mengirim notifikasi."),console.error("error",error)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(6),t.showFailed("Gagal mengirim notifikasi."),console.error("error",e.t0);case 17:case"end":return e.stop()}}),e,null,[[6,13]])})))()},getSender:function(t,e){var o=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.$axios.get("/v1/users?id=eq.".concat(t),{headers:{apikey:e,Authorization:"Bearer ".concat(e)}});case 2:return r=n.sent,n.abrupt("return",r.data[0]);case 4:case"end":return n.stop()}}),n)})))()},showSuccess:function(t){this.successMessage=t,this.showSuccessNotification=!0},showFailed:function(t){this.failedMessage=t,this.showFailedNotification=!0}}}),l=o(26),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",[e("button",{staticClass:"btn",attrs:{onclick:"my_modal_1.showModal()"}},[t._v("ADD REQUEST")]),t._v(" "),e("dialog",{staticClass:"modal",attrs:{id:"my_modal_1"}},[e("div",{staticClass:"modal-box"},[e("div",{staticClass:"max-w-lg mx-auto p-6"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[e("div",{staticClass:"space-y-4"},[e("div",[e("label",{staticClass:"block text-gray-600 font-medium",attrs:{for:"type"}},[t._v("Jenis:")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.type,expression:"form.type"}],staticClass:"select select-bordered w-full",attrs:{id:"type",name:"type"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"type",e.target.multiple?o:o[0])}}},[e("option",{attrs:{value:"debt"}},[t._v("Debit")]),t._v(" "),e("option",{attrs:{value:"pay"}},[t._v("Kredit")])])]),t._v(" "),e("div",[e("label",{staticClass:"block text-gray-600 font-medium",attrs:{for:"amount"}},[t._v("Jumlah:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.form.amount,expression:"form.amount",modifiers:{number:!0}}],staticClass:"input input-bordered w-full",attrs:{type:"number",id:"amount",name:"amount",placeholder:"Masukkan jumlah",required:""},domProps:{value:t.form.amount},on:{input:function(e){e.target.composing||t.$set(t.form,"amount",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),e("div",[e("label",{staticClass:"block text-gray-600 font-medium",attrs:{for:"message"}},[t._v("Pesan:")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"textarea textarea-bordered w-full",attrs:{id:"message",name:"message",placeholder:"Masukkan pesan",rows:"4",required:""},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})])])])]),t._v(" "),e("div",{staticClass:"modal-action"},[e("form",{attrs:{method:"dialog"},on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("send")]),t._v(" "),e("button",{staticClass:"btn mx-1",on:{click:t.closeModal}},[t._v("cancel")])])])])]),t._v(" "),t.showSuccessNotification?e("NotificationSuccess",{attrs:{message:t.successMessage},on:{close:function(e){t.showSuccessNotification=!1}}}):t._e(),t._v(" "),t.showFailedNotification?e("NotificationFailed",{attrs:{message:t.failedMessage},on:{close:function(e){t.showFailedNotification=!1}}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{NotificationSuccess:o(312).default,NotificationFailed:o(313).default})}}]);