(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{381:function(e,t,n){"use strict";n.r(t);n(38);var r=n(8),c=(n(27),{props:{data:Object},methods:{acceptFriendRequest:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,c,o,d,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3ZGt1cGN3aWdtaHZuaHZ2bmxnIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NDY4NTUwOCwiZXhwIjoyMDEwMjYxNTA4fQ.e7H4hKzuXT_STOyk0Rd4urDJsgN7bdtZlsjW46GsRKQ",r=localStorage.getItem("id"),t.next=4,e.getUserData(e.data.friend_id,n);case 4:return c=t.sent,t.next=7,e.getUserData(r,n);case 7:return o=t.sent,t.prev=8,t.next=11,e.$axios.post("/v1/friends",{id:r,friend_id:e.data.friend_id,email:e.data.email,username:c.username},{headers:{apikey:n,Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Prefer:"return=minimal"}});case 11:return d=t.sent,t.next=14,e.$axios.post("/v1/friends",{id:e.data.friend_id,friend_id:r,email:o.email,username:o.username},{headers:{apikey:n,Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Prefer:"return=minimal"}});case 14:if(l=t.sent,201!==d.status||201!==l.status){t.next=18;break}return t.next=18,e.ignoreFriendRequest();case 18:t.next=22;break;case 20:t.prev=20,t.t0=t.catch(8);case 22:case"end":return t.stop()}}),t,null,[[8,20]])})))()},getUserData:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.$axios.get("/v1/users?id=eq.".concat(e),{headers:{apikey:t,Authorization:"Bearer ".concat(t)}});case 2:return c=r.sent,r.abrupt("return",c.data[0]);case 4:case"end":return r.stop()}}),r)})))()},ignoreFriendRequest:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3ZGt1cGN3aWdtaHZuaHZ2bmxnIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NDY4NTUwOCwiZXhwIjoyMDEwMjYxNTA4fQ.e7H4hKzuXT_STOyk0Rd4urDJsgN7bdtZlsjW46GsRKQ",t.prev=1,t.next=4,e.$axios.delete("/v1/notifications?nid=eq.".concat(e.data.nid),{headers:{apikey:n,Authorization:"Bearer ".concat(n)}});case 4:204===(r=t.sent).status?e.$emit("ignore-notification",e.data):console.error("Error:",r.error),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("Error:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()}}}),o=n(26),component=Object(o.a)(c,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:!e.data.ignored,expression:"!data.ignored"}]},[t("h3",{staticClass:"font-bold text-lg"},[e._v("Friend Request Details")]),e._v(" "),t("div",{staticClass:"py-4"},[t("p",[t("strong",[e._v("Name:")]),e._v(" "+e._s(e.data.name))]),e._v(" "),t("p",[t("strong",[e._v("Email:")]),e._v(" "+e._s(e.data.email))]),e._v(" "),t("p",[t("strong",[e._v("Message:")]),e._v(" "+e._s(e.data.message))])]),e._v(" "),t("div",{staticClass:"flex gap-2"},[t("button",{staticClass:"btn",on:{click:function(t){return e.acceptFriendRequest()}}},[e._v("Accept")]),e._v(" "),t("button",{staticClass:"btn",on:{click:function(t){return e.ignoreFriendRequest()}}},[e._v("Ignore")])])])}),[],!1,null,null,null);t.default=component.exports}}]);