(window.webpackJsonp=window.webpackJsonp||[]).push([[17,4,6,9,14,15],{315:function(t,e,r){"use strict";r.r(e);var n={data:function(){return{currentYear:(new Date).getFullYear()}}},o=r(26),component=Object(o.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center text-gray-500 text-sm my-4"},[t._v("\n  Â© "+t._s(t.currentYear)+"\n  "),e("a",{staticClass:"text-blue-500 hover:underline",attrs:{href:"https://github.com/freakh00da",target:"_blank",rel:"noopener noreferrer"}},[t._v("freakh00da")])])}),[],!1,null,"0b7ddd07",null);e.default=component.exports},321:function(t,e,r){"use strict";r.r(e);var n={},o=r(26),component=Object(o.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"tabs"},[e("nuxt-link",{staticClass:"tab tab-bordered",class:{"tab-active":"/friends"===t.$route.path},attrs:{to:"/friends"}},[t._v("Friends")]),t._v(" "),e("nuxt-link",{staticClass:"tab tab-bordered",class:{"tab-active":"/dashboard"===t.$route.path},attrs:{to:"/dashboard"}},[t._v("Dashboard")])],1)}),[],!1,null,null,null);e.default=component.exports},324:function(t,e,r){"use strict";r.r(e);r(38),r(47),r(32),r(48),r(23),r(33),r(49),r(50);var n=r(136),o=r(8);r(27),r(15),r(330),r(28),r(332),r(333),r(334),r(335),r(336),r(337),r(338),r(339),r(340),r(341),r(342),r(343),r(344),r(345),r(346),r(347),r(29),r(53),r(45);function c(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw o}}}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var l={data:function(){return{friends:[]}},methods:{getData:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,d,data,l,f,v,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("id"),o="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3ZGt1cGN3aWdtaHZuaHZ2bmxnIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NDY4NTUwOCwiZXhwIjoyMDEwMjYxNTA4fQ.e7H4hKzuXT_STOyk0Rd4urDJsgN7bdtZlsjW46GsRKQ",e.next=4,t.$axios.get("/v1/transactions?id=eq.".concat(r),{headers:{apikey:o,Authorization:"Bearer ".concat(o)}});case 4:if(d=e.sent,0!==(data=d.data).length){e.next=9;break}return console.warn("Tidak ada data yang ditemukan."),e.abrupt("return");case 9:l=Object(n.a)(new Set(data.map((function(t){return t.friend_id})))),t.friends=[],f=c(l),e.prev=12,m=regeneratorRuntime.mark((function e(){var r,n,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=v.value,n=data.filter((function(t){return t.friend_id===r})),e.next=4,t.getFriendName(r);case 4:o=e.sent,c=n.filter((function(t){return"debit"===t.type})).reduce((function(t,e){return t+e.amount}),0),d=n.filter((function(t){return"credit"===t.type})).reduce((function(t,e){return t+e.amount}),0),t.friends.push({name:o,debit:c,credit:d});case 8:case"end":return e.stop()}}),e)})),f.s();case 15:if((v=f.n()).done){e.next=19;break}return e.delegateYield(m(),"t0",17);case 17:e.next=15;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(12),f.e(e.t1);case 24:return e.prev=24,f.f(),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[12,21,24,27]])})))()},getFriendName:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3ZGt1cGN3aWdtaHZuaHZ2bmxnIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NDY4NTUwOCwiZXhwIjoyMDEwMjYxNTA4fQ.e7H4hKzuXT_STOyk0Rd4urDJsgN7bdtZlsjW46GsRKQ",r.next=3,e.$axios.get("/v1/users?id=eq.".concat(t),{headers:{apikey:n,Authorization:"Bearer ".concat(n)}});case 3:return o=r.sent,r.abrupt("return",o.data[0].username);case 5:case"end":return r.stop()}}),r)})))()},calculateStatus:function(t){var e=t.credit-t.debit;return 0===e?"Lunas":e>0?"+".concat(this.formatCurrency(e)):"".concat(this.formatCurrency(e))},formatCurrency:function(t){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(t)}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getData();case 2:case"end":return e.stop()}}),e)})))()}},f=r(26),component=Object(f.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-white p-4 shadow-lg rounded-xl"},[e("div",{staticClass:"overflow-x-auto"},[e("table",{staticClass:"table"},[t._m(0),t._v(" "),e("tbody",t._l(t.friends,(function(r,n){return e("tr",{key:n},[e("td",[t._v(t._s(n+1))]),t._v(" "),e("td",[t._v(t._s(r.name))]),t._v(" "),e("td",[t._v(t._s(t.formatCurrency(r.debit)))]),t._v(" "),e("td",[t._v(t._s(t.formatCurrency(r.credit)))]),t._v(" "),e("td",[t._v(t._s(t.calculateStatus(r)))])])})),0)])])])}),[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th"),t._v(" "),e("th",[t._v("Name")]),t._v(" "),e("th",[t._v("Debit")]),t._v(" "),e("th",[t._v("Credit")]),t._v(" "),e("th",[t._v("Status")])])])}],!1,null,null,null);e.default=component.exports},325:function(t,e,r){"use strict";r.r(e);var n=r(8),o=(r(27),r(15),r(45),{data:function(){return{total:0}},methods:{getData:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,data,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("id"),n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3ZGt1cGN3aWdtaHZuaHZ2bmxnIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NDY4NTUwOCwiZXhwIjoyMDEwMjYxNTA4fQ.e7H4hKzuXT_STOyk0Rd4urDJsgN7bdtZlsjW46GsRKQ",e.next=4,t.$axios.get("/v1/transactions?id=eq.".concat(r),{headers:{apikey:n,Authorization:"Bearer ".concat(n)}});case 4:if(o=e.sent,0!==(data=o.data).length){e.next=9;break}return console.warn("Tidak ada data yang ditemukan."),e.abrupt("return");case 9:c=data.filter((function(t){return"credit"===t.type})).reduce((function(t,e){return t+e.amount}),0),d=data.filter((function(t){return"debit"===t.type})).reduce((function(t,e){return t+e.amount}),0),t.total=c-d;case 12:case"end":return e.stop()}}),e)})))()},formatCurrency:function(t){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(t)}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getData();case 2:case"end":return e.stop()}}),e)})))()}}),c=r(26),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"stats shadow-lg"},[e("div",{staticClass:"stat place-items-center"},[e("div",{staticClass:"stat-title"},[t._v("Total")]),t._v(" "),e("div",{staticClass:"stat-value text-blue-500"},[t._v(t._s(t.formatCurrency(t.total)))])])])}),[],!1,null,"2de33f30",null);e.default=component.exports},326:function(t,e,r){"use strict";r.r(e);var n=r(8),o=(r(38),r(45),r(15),r(27),{data:function(){return{notifications:[]}},methods:{getNotification:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3ZGt1cGN3aWdtaHZuaHZ2bmxnIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NDY4NTUwOCwiZXhwIjoyMDEwMjYxNTA4fQ.e7H4hKzuXT_STOyk0Rd4urDJsgN7bdtZlsjW46GsRKQ",n=localStorage.getItem("id"),e.next=5,t.$axios.get("/v1/notifications?select=*&&id=eq.".concat(n),{headers:{apikey:r,Authorization:"Bearer ".concat(r)}});case 5:200===(o=e.sent).status?t.notifications=o.data:console.error("error",o.error),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},getNotificationTitle:function(t){switch(t.type){case"debt":return"a new debit request from ".concat(t.name);case"pay":return"a new credit request from ".concat(t.name);case"friend-request":return"a new friend request from ".concat(t.name);default:return"Unknown Notification"}},getNotificationComponent:function(t){switch(t.type){case"debt":return"DebtNotification";case"pay":return"PayNotification";case"friend-request":return"FriendNotification";default:return"UnknownNotification"}},ignoreNotification:function(t){this.notifications=this.notifications.filter((function(e){return e.nid!==t.nid}))}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.getNotification();case 1:case"end":return e.stop()}}),e)})))()}}),c=r(26),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",t._l(t.notifications,(function(r,n){return e("div",{key:n,staticClass:"my-1"},[e("div",{staticClass:"collapse collapse-arrow bg-base-200 border-2 border-solid"},[e("input",{attrs:{type:"radio",name:"my-accordion-2-"+n}}),t._v(" "),e("div",{staticClass:"collapse-title text-xl font-medium"},[t._v("\n        "+t._s(t.getNotificationTitle(r))+"\n      ")]),t._v(" "),e("div",{staticClass:"collapse-content"},[e(t.getNotificationComponent(r),{tag:"component",attrs:{data:r},on:{"ignore-notification":t.ignoreNotification}})],1)])])})),0)}),[],!1,null,null,null);e.default=component.exports},373:function(t,e,r){"use strict";r.r(e);var n=r(324),o=r(315),c=r(325),d=r(321),l=r(326),f={middleware:"checkSession",layout:"navbar",components:{FriendList:n.default,Copyright:o.default,TotalCreditDebit:c.default,Sidebar:d.default,Notification:l.default}},v=r(26),component=Object(v.a)(f,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"flex justify-center my-6"},[e("Sidebar")],1),t._v(" "),e("div",{staticClass:"flex justify-center"},[e("div",{staticClass:"border-solid border-2 rounded-xl my-10 bg-sky-50 shadow"},[e("div",[e("div",{staticClass:"flex flex-wrap justify-between"},[e("div",{staticClass:"m-4"},[e("FriendList")],1),t._v(" "),e("div",[e("div",{staticClass:"m-4"},[e("TotalCreditDebit")],1),t._v(" "),e("div",{staticClass:"m-4 bg-white p-3 shadow-lg rounded-xl border-2 border-solid"},[e("h2",{staticClass:"p-2"},[t._v("Notification")]),t._v(" "),e("Notification")],1)])])]),t._v(" "),e("Copyright")],1)])])}),[],!1,null,"d6bef4e2",null);e.default=component.exports;installComponents(component,{Sidebar:r(321).default,FriendList:r(324).default,TotalCreditDebit:r(325).default,Notification:r(326).default,Copyright:r(315).default})}}]);