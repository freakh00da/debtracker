(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{380:function(e,t,n){"use strict";n.r(t);n(38);var r=n(8),o=(n(27),{props:{data:Object},methods:{showDebtRequestDetails:function(){debt_modal.showModal()},acceptDebtRequest:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3ZGt1cGN3aWdtaHZuaHZ2bmxnIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NDY4NTUwOCwiZXhwIjoyMDEwMjYxNTA4fQ.e7H4hKzuXT_STOyk0Rd4urDJsgN7bdtZlsjW46GsRKQ",t.prev=1,t.next=4,e.$axios.post("/v1/transactions",{type:"credit",amount:e.data.amount,message:e.data.message,id:e.data.friend_id,friend_id:e.data.id},{headers:{apikey:n,Authorization:"Bearer ".concat(n)}});case 4:return r=t.sent,t.next=7,e.$axios.post("/v1/transactions",{type:"debit",amount:e.data.amount,message:e.data.message,id:e.data.id,friend_id:e.data.friend_id,status:"accepted"},{headers:{apikey:n,Authorization:"Bearer ".concat(n)}});case 7:if(o=t.sent,201!==r.status||201!==o.status){t.next=11;break}return t.next=11,e.ignoreDebtRequest();case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.error("Error:",t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})))()},ignoreDebtRequest:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3ZGt1cGN3aWdtaHZuaHZ2bmxnIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NDY4NTUwOCwiZXhwIjoyMDEwMjYxNTA4fQ.e7H4hKzuXT_STOyk0Rd4urDJsgN7bdtZlsjW46GsRKQ",t.prev=1,t.next=4,e.$axios.delete("/v1/notifications?nid=eq.".concat(e.data.nid),{headers:{apikey:n,Authorization:"Bearer ".concat(n)}});case 4:204===(r=t.sent).status?e.$emit("ignore-notification",e.data):console.error("Error:",r.error),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("Error:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},closeModal:function(){debt_modal.close()}}}),c=n(26),component=Object(c.a)(o,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:!e.data.ignored,expression:"!data.ignored"}]},[t("h3",{staticClass:"font-bold text-lg"},[e._v("Debit Request Details")]),e._v(" "),t("div",{staticClass:"py-4"},[t("p",[t("strong",[e._v("Name:")]),e._v(" "+e._s(e.data.name))]),e._v(" "),t("p",[t("strong",[e._v("Email:")]),e._v(" "+e._s(e.data.email))]),e._v(" "),t("p",[t("strong",[e._v("Message:")]),e._v(" "+e._s(e.data.message))]),e._v(" "),t("p",[t("strong",[e._v("Amount:")]),e._v(" "+e._s(e.data.amount))])]),e._v(" "),t("div",{staticClass:"flex gap-2"},[t("button",{staticClass:"btn",on:{click:function(t){return e.acceptDebtRequest()}}},[e._v("Accept")]),e._v(" "),t("button",{staticClass:"btn",on:{click:function(t){return e.ignoreDebtRequest()}}},[e._v("Ignore")])])])}),[],!1,null,null,null);t.default=component.exports}}]);