(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{324:function(t,e,r){"use strict";r.r(e);r(38),r(47),r(32),r(48),r(23),r(33),r(49),r(50);var n=r(136),c=r(8);r(27),r(15),r(330),r(28),r(332),r(333),r(334),r(335),r(336),r(337),r(338),r(339),r(340),r(341),r(342),r(343),r(344),r(345),r(346),r(347),r(29),r(53),r(45);function o(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,d=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){d=!0,c=t},f:function(){try{o||null==r.return||r.return()}finally{if(d)throw c}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var d={data:function(){return{friends:[]}},methods:{getData:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var r,c,f,data,d,l,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("id"),c="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3ZGt1cGN3aWdtaHZuaHZ2bmxnIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NDY4NTUwOCwiZXhwIjoyMDEwMjYxNTA4fQ.e7H4hKzuXT_STOyk0Rd4urDJsgN7bdtZlsjW46GsRKQ",e.next=4,t.$axios.get("/v1/transactions?id=eq.".concat(r),{headers:{apikey:c,Authorization:"Bearer ".concat(c)}});case 4:if(f=e.sent,0!==(data=f.data).length){e.next=9;break}return console.warn("Tidak ada data yang ditemukan."),e.abrupt("return");case 9:d=Object(n.a)(new Set(data.map((function(t){return t.friend_id})))),t.friends=[],l=o(d),e.prev=12,v=regeneratorRuntime.mark((function e(){var r,n,c,o,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.value,n=data.filter((function(t){return t.friend_id===r})),e.next=4,t.getFriendName(r);case 4:c=e.sent,o=n.filter((function(t){return"debit"===t.type})).reduce((function(t,e){return t+e.amount}),0),f=n.filter((function(t){return"credit"===t.type})).reduce((function(t,e){return t+e.amount}),0),t.friends.push({name:c,debit:o,credit:f});case 8:case"end":return e.stop()}}),e)})),l.s();case 15:if((m=l.n()).done){e.next=19;break}return e.delegateYield(v(),"t0",17);case 17:e.next=15;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(12),l.e(e.t1);case 24:return e.prev=24,l.f(),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[12,21,24,27]])})))()},getFriendName:function(t){var e=this;return Object(c.a)(regeneratorRuntime.mark((function r(){var n,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3ZGt1cGN3aWdtaHZuaHZ2bmxnIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NDY4NTUwOCwiZXhwIjoyMDEwMjYxNTA4fQ.e7H4hKzuXT_STOyk0Rd4urDJsgN7bdtZlsjW46GsRKQ",r.next=3,e.$axios.get("/v1/users?id=eq.".concat(t),{headers:{apikey:n,Authorization:"Bearer ".concat(n)}});case 3:return c=r.sent,r.abrupt("return",c.data[0].username);case 5:case"end":return r.stop()}}),r)})))()},calculateStatus:function(t){var e=t.credit-t.debit;return 0===e?"Lunas":e>0?"+".concat(this.formatCurrency(e)):"".concat(this.formatCurrency(e))},formatCurrency:function(t){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(t)}},mounted:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getData();case 2:case"end":return e.stop()}}),e)})))()}},l=r(26),component=Object(l.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-white p-4 shadow-lg rounded-xl"},[e("div",{staticClass:"overflow-x-auto"},[e("table",{staticClass:"table"},[t._m(0),t._v(" "),e("tbody",t._l(t.friends,(function(r,n){return e("tr",{key:n},[e("td",[t._v(t._s(n+1))]),t._v(" "),e("td",[t._v(t._s(r.name))]),t._v(" "),e("td",[t._v(t._s(t.formatCurrency(r.debit)))]),t._v(" "),e("td",[t._v(t._s(t.formatCurrency(r.credit)))]),t._v(" "),e("td",[t._v(t._s(t.calculateStatus(r)))])])})),0)])])])}),[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th"),t._v(" "),e("th",[t._v("Name")]),t._v(" "),e("th",[t._v("Debit")]),t._v(" "),e("th",[t._v("Credit")]),t._v(" "),e("th",[t._v("Status")])])])}],!1,null,null,null);e.default=component.exports}}]);