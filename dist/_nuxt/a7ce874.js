(window.webpackJsonp=window.webpackJsonp||[]).push([[18,4,10,11,13,16],{312:function(t,e,n){"use strict";n.r(e);var r={props:{message:String},methods:{closeNotification:function(){this.$emit("close")}}},o=n(26),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-green-500 text-white p-4 rounded shadow-lg"},[e("div",{staticClass:"flex items-center justify-between"},[e("div",{staticClass:"flex items-center"},[e("svg",{staticClass:"w-6 h-6 mr-2",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})]),t._v(" "),e("span",{staticClass:"font-semibold"},[t._v("Sukses!")])]),t._v(" "),e("button",{staticClass:"text-white hover:text-gray-200 focus:outline-none",on:{click:t.closeNotification}},[e("svg",{staticClass:"w-4 h-4 fill-current",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}})])])]),t._v(" "),e("p",{staticClass:"mt-2"},[t._v(t._s(t.message))])])}),[],!1,null,null,null);e.default=component.exports},313:function(t,e,n){"use strict";n.r(e);var r={props:{message:String},methods:{closeNotification:function(){this.$emit("close")}}},o=n(26),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-red-500 text-white p-4 rounded shadow-lg"},[e("div",{staticClass:"flex items-center justify-between"},[e("div",{staticClass:"flex items-center"},[e("svg",{staticClass:"w-6 h-6 mr-2",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})]),t._v(" "),e("span",{staticClass:"font-semibold"},[t._v("Gagal!")])]),t._v(" "),e("button",{staticClass:"text-white hover:text-gray-200 focus:outline-none",on:{click:t.closeNotification}},[e("svg",{staticClass:"w-4 h-4 fill-current",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}})])])]),t._v(" "),e("p",{staticClass:"mt-2"},[t._v(t._s(t.message))])])}),[],!1,null,null,null);e.default=component.exports},315:function(t,e,n){"use strict";n.r(e);var r={data:function(){return{currentYear:(new Date).getFullYear()}}},o=n(26),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center text-gray-500 text-sm my-4"},[t._v("\n  Â© "+t._s(t.currentYear)+"\n  "),e("a",{staticClass:"text-blue-500 hover:underline",attrs:{href:"https://github.com/freakh00da",target:"_blank",rel:"noopener noreferrer"}},[t._v("freakh00da")])])}),[],!1,null,"0b7ddd07",null);e.default=component.exports},328:function(t,e,n){"use strict";n.r(e);n(53),n(45),n(15);var r=n(8),o=(n(27),{data:function(){return{form:{type:"debt",amount:null,message:null},showSuccessNotification:!1,successMessage:"",showFailedNotification:!1,failedMessage:""}},methods:{openModal:function(){document.getElementById("my_modal_1").showModal()},closeModal:function(){document.getElementById("my_modal_1").close()},submitForm:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("id"),r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3ZGt1cGN3aWdtaHZuaHZ2bmxnIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NDY4NTUwOCwiZXhwIjoyMDEwMjYxNTA4fQ.e7H4hKzuXT_STOyk0Rd4urDJsgN7bdtZlsjW46GsRKQ",e.next=4,t.getSender(n,r);case 4:return o=e.sent,c=t.$route.params.id,e.prev=6,e.next=9,t.$axios.post("/v1/notifications",{email:o.email,message:t.form.message,type:t.form.type,id:c,status:"accepted",name:o.username,friend_id:n,amount:t.form.amount},{headers:{apikey:r,Authorization:"Bearer ".concat(r),"Content-Type":"application/json",Prefer:"return=minimal"}});case 9:201===e.sent.status?(t.closeModal(),t.showSuccess("Notifikasi berhasil dikirim.")):(t.showFailed("Gagal mengirim notifikasi."),console.error("error",error)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(6),t.showFailed("Gagal mengirim notifikasi."),console.error("error",e.t0);case 17:case"end":return e.stop()}}),e,null,[[6,13]])})))()},getSender:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.$axios.get("/v1/users?id=eq.".concat(t),{headers:{apikey:e,Authorization:"Bearer ".concat(e)}});case 2:return o=r.sent,r.abrupt("return",o.data[0]);case 4:case"end":return r.stop()}}),r)})))()},showSuccess:function(t){this.successMessage=t,this.showSuccessNotification=!0},showFailed:function(t){this.failedMessage=t,this.showFailedNotification=!0}}}),c=n(26),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",[e("button",{staticClass:"btn",attrs:{onclick:"my_modal_1.showModal()"}},[t._v("ADD REQUEST")]),t._v(" "),e("dialog",{staticClass:"modal",attrs:{id:"my_modal_1"}},[e("div",{staticClass:"modal-box"},[e("div",{staticClass:"max-w-lg mx-auto p-6"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[e("div",{staticClass:"space-y-4"},[e("div",[e("label",{staticClass:"block text-gray-600 font-medium",attrs:{for:"type"}},[t._v("Jenis:")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.type,expression:"form.type"}],staticClass:"select select-bordered w-full",attrs:{id:"type",name:"type"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"type",e.target.multiple?n:n[0])}}},[e("option",{attrs:{value:"debt"}},[t._v("Debit")]),t._v(" "),e("option",{attrs:{value:"pay"}},[t._v("Kredit")])])]),t._v(" "),e("div",[e("label",{staticClass:"block text-gray-600 font-medium",attrs:{for:"amount"}},[t._v("Jumlah:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.form.amount,expression:"form.amount",modifiers:{number:!0}}],staticClass:"input input-bordered w-full",attrs:{type:"number",id:"amount",name:"amount",placeholder:"Masukkan jumlah",required:""},domProps:{value:t.form.amount},on:{input:function(e){e.target.composing||t.$set(t.form,"amount",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),e("div",[e("label",{staticClass:"block text-gray-600 font-medium",attrs:{for:"message"}},[t._v("Pesan:")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"textarea textarea-bordered w-full",attrs:{id:"message",name:"message",placeholder:"Masukkan pesan",rows:"4",required:""},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})])])])]),t._v(" "),e("div",{staticClass:"modal-action"},[e("form",{attrs:{method:"dialog"},on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("send")]),t._v(" "),e("button",{staticClass:"btn mx-1",on:{click:t.closeModal}},[t._v("cancel")])])])])]),t._v(" "),t.showSuccessNotification?e("NotificationSuccess",{attrs:{message:t.successMessage},on:{close:function(e){t.showSuccessNotification=!1}}}):t._e(),t._v(" "),t.showFailedNotification?e("NotificationFailed",{attrs:{message:t.failedMessage},on:{close:function(e){t.showFailedNotification=!1}}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{NotificationSuccess:n(312).default,NotificationFailed:n(313).default})},329:function(t,e,n){"use strict";n.r(e);n(53),n(45),n(15);var r=n(8),o=(n(27),{props:{tid:String},data:function(){return{form:{type:"debt",amount:null,message:null},showSuccessNotification:!1,successMessage:"",showFailedNotification:!1,failedMessage:""}},methods:{openModal:function(){document.getElementById("update_dialog").showModal(),console.log(this.tid)},closeModal:function(){document.getElementById("update_dialog").close()},submitForm:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("id"),r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3ZGt1cGN3aWdtaHZuaHZ2bmxnIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NDY4NTUwOCwiZXhwIjoyMDEwMjYxNTA4fQ.e7H4hKzuXT_STOyk0Rd4urDJsgN7bdtZlsjW46GsRKQ",o=t.tid,c=t.$route.params.id,console.log(o),e.prev=5,e.next=8,t.$axios.patch("/v1/transactions?tid?=eq.".concat(o),{message:t.form.message,type:t.form.type,id:c,status:"edited",friend_id:n,amount:t.form.amount},{headers:{apikey:r,Authorization:"Bearer ".concat(r),"Content-Type":"application/json",Prefer:"return=minimal"}});case 8:201===e.sent.status&&(t.closeModal(),t.showSuccess("Notifikasi berhasil dikirim.")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),t.showFailed("Gagal mengirim notifikasi."),console.error("error",e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})))()},getTid:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.$axios.get("/v1/transactions?id=eq.".concat(t),{headers:{apikey:e,Authorization:"Bearer ".concat(e)}});case 2:return o=r.sent,r.abrupt("return",o.data[0]);case 4:case"end":return r.stop()}}),r)})))()},showSuccess:function(t){this.successMessage=t,this.showSuccessNotification=!0},showFailed:function(t){this.failedMessage=t,this.showFailedNotification=!0}}}),c=n(26),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",[e("button",{staticClass:"btn-sm btn-info mx-1",on:{click:t.openModal}},[t._v("edit")]),t._v(" "),e("dialog",{staticClass:"modal",attrs:{id:"update_dialog"}},[e("div",{staticClass:"modal-box"},[e("div",{staticClass:"max-w-lg mx-auto p-6"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[e("div",{staticClass:"space-y-4"},[e("div",[e("label",{staticClass:"block text-gray-600 font-medium",attrs:{for:"type"}},[t._v("Jenis:")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.type,expression:"form.type"}],staticClass:"select select-bordered w-full",attrs:{id:"type",name:"type"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"type",e.target.multiple?n:n[0])}}},[e("option",{attrs:{value:"debt"}},[t._v("Debit")]),t._v(" "),e("option",{attrs:{value:"pay"}},[t._v("Kredit")])])]),t._v(" "),e("div",[e("label",{staticClass:"block text-gray-600 font-medium",attrs:{for:"amount"}},[t._v("Jumlah:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.form.amount,expression:"form.amount",modifiers:{number:!0}}],staticClass:"input input-bordered w-full",attrs:{type:"number",id:"amount",name:"amount",placeholder:"Masukkan jumlah",required:""},domProps:{value:t.form.amount},on:{input:function(e){e.target.composing||t.$set(t.form,"amount",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),e("div",[e("label",{staticClass:"block text-gray-600 font-medium",attrs:{for:"message"}},[t._v("Pesan:")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"textarea textarea-bordered w-full",attrs:{id:"message",name:"message",placeholder:"Masukkan pesan",rows:"4",required:""},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})])])])]),t._v(" "),e("div",{staticClass:"modal-action"},[e("form",{attrs:{method:"dialog"},on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("send")]),t._v(" "),e("button",{staticClass:"btn mx-1",attrs:{type:"button"},on:{click:t.closeModal}},[t._v("\n            cancel\n          ")])])])])]),t._v(" "),t.showSuccessNotification?e("NotificationSuccess",{attrs:{message:t.successMessage},on:{close:function(e){t.showSuccessNotification=!1}}}):t._e(),t._v(" "),t.showFailedNotification?e("NotificationFailed",{attrs:{message:t.failedMessage},on:{close:function(e){t.showFailedNotification=!1}}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{NotificationSuccess:n(312).default,NotificationFailed:n(313).default})},379:function(t,e,n){"use strict";n.r(e);n(38);var r=n(8),o=(n(27),n(45),n(15),n(53),n(328)),c=n(329),l={components:{RequestDialog:o.default,UpdateDialog:c.default},layout:"navbar",middleware:"checkSession",data:function(){return{tableData:[],name:""}},computed:{filteredTableData:function(){var t=this.$route.params.id;return this.tableData.filter((function(e){return e.id==t}))}},methods:{fetchTransactions:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.$route.params.id,r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3ZGt1cGN3aWdtaHZuaHZ2bmxnIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NDY4NTUwOCwiZXhwIjoyMDEwMjYxNTA4fQ.e7H4hKzuXT_STOyk0Rd4urDJsgN7bdtZlsjW46GsRKQ",e.next=5,t.$axios.get("/v1/transactions?id=eq.".concat(n),{headers:{apikey:r,Authorization:"Bearer ".concat(r)}});case 5:return o=e.sent,e.next=8,t.friendName(n,r);case 8:c=e.sent,200===o.status?(t.tableData=o.data.map((function(t){return t})),t.name=c):console.error("Error fetching transactions:",o.error),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()},friendName:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.$axios.get("/v1/users?id=eq.".concat(t),{headers:{apikey:e,Authorization:"Bearer ".concat(e)}});case 2:return o=r.sent,r.abrupt("return",o.data[0].username);case 4:case"end":return r.stop()}}),r)})))()},formatDateTime:function(t){return new Date(t).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.fetchTransactions();case 1:case"end":return e.stop()}}),e)})))()}},d=n(26),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex justify-center"},[e("div",{staticClass:"border-solid border-2 rounded-xl my-10 bg-sky-50 shadow w-1/2 justify-center"},[e("h2",{staticClass:"font-bold m-2"},[t._v(t._s(t.name)+"'s detail")]),t._v(" "),e("div",{staticClass:"m-4"},[e("div",{staticClass:"bg-white p-4 shadow-lg rounded-xl"},[e("div",{staticClass:"overflow-x-auto"},[e("table",{staticClass:"table"},[t._m(0),t._v(" "),e("tbody",t._l(t.filteredTableData,(function(n,r){return e("tr",{key:r,class:{"bg-base-200":r%2==0}},[e("th",[t._v(t._s(r+1))]),t._v(" "),e("td",[t._v(t._s(t.formatDateTime(n.created_at)))]),t._v(" "),e("td",[t._v(t._s(n.type))]),t._v(" "),e("td",[t._v(t._s(n.amount))]),t._v(" "),e("td",[t._v(t._s(n.message))]),t._v(" "),e("td",[t._v(t._s(n.status))]),t._v(" "),e("td",[e("UpdateDialog",{attrs:{tid:n.tid}})],1)])})),0)])]),t._v(" "),e("div",{staticClass:"m-2"},[e("RequestDialog")],1),t._v(" "),e("nuxt-link",{attrs:{to:"/friends"}},[e("button",{staticClass:"btn-sm text-blue-500 font-semibold m-2"},[t._v("\n            go back\n          ")])])],1),t._v(" "),e("Copyright")],1)])])}),[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th"),t._v(" "),e("th",[t._v("Date")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Amount")]),t._v(" "),e("th",[t._v("Message")]),t._v(" "),e("th",[t._v("Status")]),t._v(" "),e("th")])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{UpdateDialog:n(329).default,RequestDialog:n(328).default,Copyright:n(315).default})}}]);